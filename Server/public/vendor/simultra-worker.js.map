{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 46338da8f3e33d6f4298","webpack:///./src/simultra-worker.js","webpack:///./src/io/API.js","webpack:///./src/io/WebClient.js","webpack:///./~/extend/index.js"],"names":[],"mappings":"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","file":"simultra-worker.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Simultra\"] = factory();\n\telse\n\t\troot[\"Simultra\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 46338da8f3e33d6f4298\n **/","import API from './io/API';\n\nconst SimWorker = {\n  API: API\n};\n\nexport default SimWorker;\nself.SimWorker = SimWorker;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/simultra-worker.js\n **/","/**\n * API Helper\n */\nimport WebClient from './WebClient';\n\n// --- API endpoint definitions\nconst GET_VEHICLES = '/api/v1/vehicles';\nconst UPDATE_VEHICLES = '/api/v1/vehicles';\nconst GET_VEHICLE = function(vid) { return '/api/v1/vehicles/' + vid; };\n\nconst GET_PEDESTRIANS = '/api/v1/pedestrians';\nconst UPDATE_PEDESTRIANS = '/api/v1/pedestrians';\nconst GET_PEDESTRIAN = function(pid) { return '/api/v1/pedestrians/' + pid; };\n// ---\n\nclass API extends WebClient {\n  constructor(baseUrl) {\n    super();\n    this.baseUrl = baseUrl;\n  }\n\n  // --- Vehicles\n  getVehicles() {\n    return this._ajax({\n      url: this.baseUrl + GET_VEHICLES,\n      method: 'get'\n    });\n  }\n\n  updateVehicles(data) {\n    return this._ajax({\n      url: this.baseUrl + UPDATE_VEHICLES,\n      method: 'put',\n      data: data\n    });\n  }\n\n  getVehicle(vid) {\n    return this._ajax({\n      url: this.baseUrl + GET_VEHICLE(vid),\n      method: 'get'\n    });\n  }\n  // ---\n\n  // --- Pedestrians\n  getPedestrians() {\n    return this._ajax({\n      url: this.baseUrl + GET_PEDESTRIANS,\n      method: 'get'\n    });\n  }\n\n  updatePedestrians(data) {\n    return this._ajax({\n      url: this.baseUrl + UPDATE_PEDESTRIANS,\n      method: 'put',\n      data: data\n    });\n  }\n\n  getPedestrian(pid) {\n    return this._ajax({\n      url: this.baseUrl + GET_PEDESTRIAN(pid),\n      method: 'get'\n    });\n  }\n  // ---\n\n}\n\nexport default API;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/io/API.js\n **/","/**\n * Created by masayuki on 28/07/2016.\n */\nimport extend from 'extend';\n\nclass WebClient {\n  constructor() {\n\n  }\n\n  _ajax(param) {\n    var defaultParam = {\n      url: null,\n      method: 'GET',\n      data: null,\n      type: 'json'\n    };\n    param = extend({}, defaultParam, param);\n\n    return new Promise(function(resolve, reject) {\n      var method = param.method.toUpperCase();\n\n      var xhr = new XMLHttpRequest();\n      xhr.open(method, param.url);\n      xhr.responseType = param.type;\n\n      // set callbacks\n      xhr.onload = function() {\n        if (xhr.status === 200) {\n          resolve(xhr.response);\n        } else {\n          reject(Error(xhr.statusText));\n        }\n      };\n      xhr.onerror = function() {\n        reject(Error('Network Error'));\n      };\n\n      // send data if exists\n      if ((method === 'POST' || method === 'PUT') && param.data) {\n        xhr.send(param.data);\n      }\n      // or send the request without data\n      else {\n        xhr.send();\n      }\n    });\n  }\n\n}\n\nexport default WebClient;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/io/WebClient.js\n **/","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {/**/}\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/extend/index.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}